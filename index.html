<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
  <title>[RMT] Compose - Proof Of Concept</title>
  <link rel="stylesheet" href="/styles.css">
</head>
<body>
  <div class="top-bar">
    <div class="controls-group">
      <button id="playPauseBtn" title="Play/Pause">
        <div class="pp"><span></span></div>
      </button>
      <button id="stopButton" title="Stop" class="stop-button">
        <div class="stop">
          <span></span><span></span><span></span><span></span>
        </div>
      </button>
      <input type="range" id="volumeSlider" title="Volume Slider" min="0" max="1" step="0.01" value="1">
    </div>
    <div class="right-controls">
      <button id="resetViewBtn" title="Reset View"></button>
      <div class="tracking-zone">
        <label class="toggle-switch">
          <input type="checkbox" id="trackingToggle">
          <span class="toggle-slider" title="Playhead Tracking"></span>
        </label>
      </div>
      <div class="menu-container">
        <button class="dropdown-button" title="Main Menu">
          <div class="plusminus"></div>
        </button>
        <div id="general-widget" class="widget">
          <div class="menu-actions">
            <button id="reorderModuleBtn" class="module-action-btn" style="background: #add8e6;">Reorder Module</button>
            <button id="saveModuleBtn" class="module-action-btn">Save Module</button>
            <input type="file" id="loadModuleInput" accept=".json" style="display: none;">
            <button id="loadModuleBtn" class="module-action-btn">Load Module</button>
          </div>
          <div class="widget-footer">
            <div class="info-section">
              <a href="https://cybercyril.com" target="_blank" class="info-link">- discover "<b>Relative Music Theory</b>" -</a>
            </div>
            <div class="support-section">
              <a href="https://donate.stripe.com/7sIdR3dQMciZb1m8ww" target="_blank" class="donate-button">Donate</a>
            </div>
            <div class="widget-copyright">© 2025 Cyril Monkewitz</div>
          </div>
        </div>
      </div>
    </div>
  </div>
  <div class="second-top-bar">
    <div class="icons-wrapper">
      <div class="icons-container"></div>
    </div>
    <div class="separator"></div>
    <div class="pull-tab"></div>
  </div>
  <div class="myspaceapp"></div>
  <div id="note-widget" class="note-widget">
    <div class="note-widget-header">
      <span id="note-widget-title" class="note-widget-title">Note Variables</span>
      <button class="note-widget-close">×</button>
    </div>
    <div class="note-widget-content"></div>
  </div>
  <div id="measureBarsContainer" class="measure-bars-container"></div>
  <div id="playheadContainer" class="measure-bars-container"></div>
  <div id="measureBarTrianglesContainer"></div>
  <button id="lockButton" title="Lock Notes" class="lock-button locked" aria-label="Lock notes" aria-pressed="true">
    <svg class="lock-icon" viewBox="0 0 40 40" xmlns="http://www.w3.org/2000/svg">
      <g>
        <g class="lock-shackle-group">
          <path class="lock-shackle" d="M 5 23 L 5 18 A 7 7 0 0 1 19 16 L 19 29" />
        </g>
        <rect class="lock-body" x="0" y="22" width="24" height="16" rx="6" ry="6" />
      </g>
    </svg>
  </button>
  
  <!-- Main ES6 module entry point -->
  <script type="module" src="/src/main.js"></script>
  
  <!-- Legacy scripts that depend on ES6 modules being loaded first -->
  <script defer src="/src/modals.js"></script>
  <script defer src="/src/menu-bar.js"></script>
  <script defer src="/src/player.js"></script>
</body>
</html>